<div ng-controller="PicksCtrl">

  <div class="row">

    <div class="col-lg-6">
      <rd-widget ng-show="errorMessage">
        <rd-widget-body classes="small no-padding">

          <div class="table-responsive">
            <table class="table">
              <tbody>
                <tr>
                  <td class="text-center" colspan="2">
                    <div class="status" ng-bind-html="errorMessage"></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

        </rd-widget-body>
      </rd-widget>

      <rd-loading ng-hide="loaded"></rd-loading>
      <rd-widget ng-show="loaded">
        <rd-widget-header icon="fa-trophy" title="Picks for {{username}}">
          <a href="{{eventRosterUrl}}">Event Roster</a>
        </rd-widget-header>

        <rd-widget-body classes="no-padding">

          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th>Game: {{game}}</th>
                </tr>
              </thead>
              <table>
          </div>

          <div class="instructions">
            <h5><div>{{event}}</div></h5>
            <div>Select {{NUM_SELECTIONS}} players from the list.</div>
            <div>Press 'Save Picks' at the bottom when finished.</div>
          </div>

          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th></th>
                  <th>Player</th>
                </tr>
              </thead>
              <tbody>

                <tr ng-repeat="player in players">
                  <td class="text-center">
                    <input type="checkbox" ng-disabled="!player.selectable" ng-model="player.selected" ng-click="updatePlayer(player);">
                    </input>
                  </td>
                  <td>
                    <div ng-class="{'toppick': player.inEvent, 'disabled':!player.selectable}">{{player.name}}</div>
                  </td>
                </tr>

                <tr>
                  <td class="text-center" colspan="3">
                    <button class="button button-positive" ng-disabled="!canSubmit" ng-click="submit()">Save Picks</button>
                  </td>
                </tr>
                <tr>
                  <td class="text-center" colspan="3">
                    Players in <span class="toppick">blue</span> are projected to be in the field for the this event.
                  </td>
                </tr>
                <tr>
                  <td class="text-center" colspan="3">
                    <div class="status" ng-bind-html="picksMessage"></div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </rd-widget-body>
        <rd-widget>
    </div>
  </div>
</div>
